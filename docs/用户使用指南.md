# Tiny Blog ç”¨æˆ·ä½¿ç”¨æŒ‡å—

æ¬¢è¿ä½¿ç”¨ Tiny Blogï¼è¿™ä»½æŒ‡å—å°†å¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹åšå®¢çš„é…ç½®ã€å†…å®¹ç®¡ç†å’Œæ—¥å¸¸ä½¿ç”¨ã€‚

## ğŸ“‹ ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [éƒ¨ç½²åé…ç½®](#éƒ¨ç½²åé…ç½®)
- [å†…å®¹ç®¡ç†](#å†…å®¹ç®¡ç†)
- [åšå®¢ç¼–è¾‘ä¸å‘å¸ƒ](#åšå®¢ç¼–è¾‘ä¸å‘å¸ƒ)
- [é«˜çº§é…ç½®](#é«˜çº§é…ç½®)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### éƒ¨ç½²å®Œæˆåçš„é¦–æ¬¡é…ç½®

1. **è®¿é—®ä½ çš„åšå®¢**
   ```
   http://localhost:3131
   ```
   (æˆ–ä½ åœ¨éƒ¨ç½²æ—¶æŒ‡å®šçš„ç«¯å£)

2. **ç¡®è®¤æœåŠ¡çŠ¶æ€**
   ```bash
   # æŸ¥çœ‹å®¹å™¨çŠ¶æ€
   docker compose ps
   
   # æŸ¥çœ‹æ—¥å¿—
   docker compose logs -f
   ```

3. **éªŒè¯æ•°æ®ç›®å½•ç»“æ„**
   ```
   blog-data/
   â”œâ”€â”€ content/
   â”‚   â”œâ”€â”€ posts/          # ä½ çš„æ–‡ç« å°†å­˜å‚¨åœ¨è¿™é‡Œ
   â”‚   â”œâ”€â”€ pages/          # å…³äºé¡µé¢ç­‰é™æ€é¡µé¢
   â”‚   â””â”€â”€ images/         # å›¾ç‰‡èµ„æº
   â””â”€â”€ config/
       â””â”€â”€ site.config.json # ç«™ç‚¹é…ç½®æ–‡ä»¶
   ```

## âš™ï¸ éƒ¨ç½²åé…ç½®

### 1. ä¸ªæ€§åŒ–ç«™ç‚¹ä¿¡æ¯

ç¼–è¾‘ `blog-data/config/site.config.json` æ–‡ä»¶ï¼š

```json
{
  "title": "æˆ‘çš„åšå®¢",
  "description": "è¿™æ˜¯æˆ‘çš„ä¸ªäººæŠ€æœ¯åšå®¢",
  "author": {
    "name": "ä½ çš„åå­—",
    "email": "your@email.com",
    "github": "github-username",
    "bio": "ç®€çŸ­çš„ä¸ªäººä»‹ç»"
  },
  "url": "https://yourdomain.com",
  "social": {
    "github": "https://github.com/username",
    "twitter": "https://twitter.com/username",
    "email": "mailto:contact@example.com"
  },
  "theme": {
    "primaryColor": "#000000",
    "accentColor": "#666666"
  },
  "seo": {
    "keywords": ["æŠ€æœ¯", "ç¼–ç¨‹", "å‰ç«¯", "åšå®¢"],
    "googleAnalytics": "GA_TRACKING_ID"
  }
}
```

### 2. é…ç½®çƒ­é‡è½½

ä¿®æ”¹é…ç½®åï¼Œå¯ä»¥é€šè¿‡ API é‡æ–°åŠ è½½é…ç½®ï¼š

```bash
curl -X POST http://localhost:3131/api/config/reload \
  -H "Authorization: Bearer YOUR_REVALIDATE_SECRET" \
  -H "Content-Type: application/json"
```

æˆ–è€…é‡å¯å®¹å™¨ï¼š
```bash
docker compose restart
```

### 3. è‡ªå®šä¹‰å…³äºé¡µé¢

ç¼–è¾‘ `blog-data/content/pages/about-me.md`ï¼š

```markdown
---
title: "å…³äºæˆ‘"
---

# å…³äºæˆ‘

è¿™é‡Œæ˜¯ä½ çš„ä¸ªäººä»‹ç»...

## æŠ€èƒ½

- å‰ç«¯å¼€å‘
- åç«¯å¼€å‘
- æ•°æ®åº“è®¾è®¡

## ç»å†

- 2023-è‡³ä»Šï¼šè½¯ä»¶å·¥ç¨‹å¸ˆ
- 2021-2023ï¼šå‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ
```

## ğŸ“ å†…å®¹ç®¡ç†

### æ–‡ç« ç»“æ„

æ¯ç¯‡æ–‡ç« éƒ½æ˜¯ä¸€ä¸ª Markdown æ–‡ä»¶ï¼ŒåŒ…å« frontmatter å’Œæ­£æ–‡å†…å®¹ï¼š

```markdown
---
title: "æ–‡ç« æ ‡é¢˜"
date: "2024-01-01"
tags: ["æŠ€æœ¯", "å‰ç«¯", "React"]
description: "æ–‡ç« æ‘˜è¦ï¼Œç”¨äºSEOå’Œæ–‡ç« åˆ—è¡¨å±•ç¤º"
cover: "/images/article-cover.jpg"
published: true
author: "ä½œè€…åç§°"
---

# æ–‡ç« æ ‡é¢˜

è¿™é‡Œæ˜¯æ–‡ç« çš„æ­£æ–‡å†…å®¹...

## ç« èŠ‚æ ‡é¢˜

æ–‡ç« å†…å®¹æ”¯æŒæ‰€æœ‰ Markdown è¯­æ³•ã€‚

### ä»£ç å—ç¤ºä¾‹

```javascript
function hello() {
    console.log("Hello, World!");
}
```

### å›¾ç‰‡æ’å…¥

![å›¾ç‰‡æè¿°](/images/example.jpg)
```

### Frontmatter å­—æ®µè¯´æ˜

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `title` | string | âœ… | æ–‡ç« æ ‡é¢˜ |
| `date` | string | âœ… | å‘å¸ƒæ—¥æœŸ (YYYY-MM-DD) |
| `tags` | array | âŒ | æ ‡ç­¾æ•°ç»„ |
| `description` | string | âŒ | æ–‡ç« æ‘˜è¦ |
| `cover` | string | âŒ | å°é¢å›¾ç‰‡è·¯å¾„ |
| `published` | boolean | âŒ | æ˜¯å¦å‘å¸ƒ (é»˜è®¤ true) |
| `author` | string | âŒ | ä½œè€…åç§° |
| `category` | string | âŒ | æ–‡ç« åˆ†ç±» |
| `lastModified` | string | âŒ | æœ€åä¿®æ”¹æ—¶é—´ |

### ç›®å½•ç»“æ„å»ºè®®

```
blog-data/content/posts/
â”œâ”€â”€ 2024-01-01-hello-world.md
â”œâ”€â”€ 2024-01-15-react-best-practices.md
â”œâ”€â”€ 2024-02-01-typescript-guide.md
â””â”€â”€ drafts/                    # è‰ç¨¿æ–‡ä»¶å¤¹
    â””â”€â”€ work-in-progress.md
```

## âœï¸ åšå®¢ç¼–è¾‘ä¸å‘å¸ƒ

### 1. åˆ›å»ºæ–°æ–‡ç« 

```bash
# è¿›å…¥æ–‡ç« ç›®å½•
cd blog-data/content/posts/

# åˆ›å»ºæ–°æ–‡ç« 
touch 2024-08-17-my-new-article.md
```

ä½¿ç”¨ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨ç¼–è¾‘æ–‡ç« ï¼š

```bash
# ä½¿ç”¨ vim
vim 2024-08-17-my-new-article.md

# ä½¿ç”¨ VS Code
code 2024-08-17-my-new-article.md

# ä½¿ç”¨ nano
nano 2024-08-17-my-new-article.md
```

### 2. æ–‡ç« æ¨¡æ¿

åˆ›å»ºä¸€ä¸ªæ–‡ç« æ¨¡æ¿ `blog-data/content/posts/_template.md`ï¼š

```markdown
---
title: "æ–‡ç« æ ‡é¢˜"
date: "2024-08-17"
tags: ["æ ‡ç­¾1", "æ ‡ç­¾2"]
description: "æ–‡ç« æ‘˜è¦"
cover: "/images/cover.jpg"
published: false
---

# æ–‡ç« æ ‡é¢˜

## ä»‹ç»

ç®€çŸ­ä»‹ç»æ–‡ç« å†…å®¹...

## ä¸»è¦å†…å®¹

### å°èŠ‚æ ‡é¢˜

å…·ä½“å†…å®¹...

## æ€»ç»“

æ–‡ç« æ€»ç»“...

---

**å‚è€ƒèµ„æ–™:**
- [é“¾æ¥1](https://example.com)
- [é“¾æ¥2](https://example.com)
```

### 3. å›¾ç‰‡ç®¡ç†

**ä¸Šä¼ å›¾ç‰‡ï¼š**

1. å°†å›¾ç‰‡æ”¾å…¥ `blog-data/content/images/` ç›®å½•
2. å»ºè®®æŒ‰å¹´æœˆç»„ç»‡ï¼š`blog-data/content/images/2024/08/`
3. åœ¨æ–‡ç« ä¸­å¼•ç”¨ï¼š`![æè¿°](/images/2024/08/image.jpg)`

**å›¾ç‰‡ä¼˜åŒ–å»ºè®®ï¼š**
- ä½¿ç”¨ WebP æ ¼å¼ä»¥è·å¾—æ›´å¥½çš„å‹ç¼©ç‡
- å›¾ç‰‡å®½åº¦å»ºè®®ä¸è¶…è¿‡ 1200px
- ä¸ºæ¯å¼ å›¾ç‰‡æ·»åŠ æœ‰æ„ä¹‰çš„ alt æ–‡æœ¬

### 4. å‘å¸ƒæµç¨‹

1. **ç¼–å†™æ–‡ç« **
   ```markdown
   ---
   published: false  # è‰ç¨¿çŠ¶æ€
   ---
   ```

2. **é¢„è§ˆæ£€æŸ¥**
   - è®¿é—®åšå®¢é¦–é¡µæŸ¥çœ‹æ–‡ç« åˆ—è¡¨
   - ç‚¹å‡»æ–‡ç« æ ‡é¢˜é¢„è§ˆå†…å®¹
   - æ£€æŸ¥æ ¼å¼ã€å›¾ç‰‡ã€é“¾æ¥ç­‰

3. **æ­£å¼å‘å¸ƒ**
   ```markdown
   ---
   published: true   # å‘å¸ƒçŠ¶æ€
   ---
   ```

4. **ç«‹å³ç”Ÿæ•ˆ**
   - ä¿å­˜æ–‡ä»¶åï¼Œåˆ·æ–°æµè§ˆå™¨å³å¯çœ‹åˆ°æ›´æ–°
   - æ— éœ€é‡å¯æœåŠ¡æˆ–é‡æ–°æ„å»º

### 5. æ ‡ç­¾ç®¡ç†

**æ ‡ç­¾æœ€ä½³å®è·µï¼š**
- ä½¿ç”¨ä¸€è‡´çš„æ ‡ç­¾å‘½åï¼ˆå»ºè®®ä¸­æ–‡æˆ–è‹±æ–‡ï¼Œä¿æŒç»Ÿä¸€ï¼‰
- æ¯ç¯‡æ–‡ç«  3-5 ä¸ªæ ‡ç­¾æ¯”è¾ƒåˆé€‚
- å®šæœŸæ•´ç†å’Œè§„èŒƒæ ‡ç­¾

**æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ï¼š**
è®¿é—® `http://localhost:3131/tags` æŸ¥çœ‹æ ‡ç­¾äº‘ã€‚

## ğŸ”§ é«˜çº§é…ç½®

### 1. è‡ªå®šä¹‰åŸŸå

å¦‚æœä½ æœ‰è‡ªå·±çš„åŸŸåï¼Œéœ€è¦ï¼š

1. **æ›´æ–°é…ç½®æ–‡ä»¶**
   ```json
   {
     "url": "https://yourdomain.com"
   }
   ```

2. **æ›´æ–°ç¯å¢ƒå˜é‡**
   ```bash
   # ç¼–è¾‘ .env æ–‡ä»¶
   SITE_URL=https://yourdomain.com
   ```

3. **é‡å¯æœåŠ¡**
   ```bash
   docker compose restart
   ```

### 2. å¤‡ä»½æ•°æ®

**å®šæœŸå¤‡ä»½é‡è¦æ•°æ®ï¼š**

```bash
# å¤‡ä»½æ•´ä¸ªæ•°æ®ç›®å½•
tar -czf blog-backup-$(date +%Y%m%d).tar.gz blog-data/

# åªå¤‡ä»½å†…å®¹
tar -czf content-backup-$(date +%Y%m%d).tar.gz blog-data/content/

# åŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨
rsync -av blog-data/ user@server:/backup/blog-data/
```

### 3. æ€§èƒ½ä¼˜åŒ–

**å›¾ç‰‡ä¼˜åŒ–ï¼š**
```bash
# æ‰¹é‡å‹ç¼©å›¾ç‰‡ï¼ˆéœ€è¦å®‰è£… imagemagickï¼‰
cd blog-data/content/images/
find . -name "*.jpg" -exec mogrify -quality 85 {} \;
```

**å†…å®¹æ¸…ç†ï¼š**
```bash
# æ¸…ç†æœªä½¿ç”¨çš„å›¾ç‰‡
# åˆ é™¤è¿‡æ—¶çš„è‰ç¨¿æ–‡ä»¶
```

### 4. SEO ä¼˜åŒ–

1. **é…ç½® Google Analytics**
   ```json
   {
     "seo": {
       "googleAnalytics": "GA_TRACKING_ID"
     }
   }
   ```

2. **ä¼˜åŒ–æ–‡ç«  SEO**
   - ä½¿ç”¨æœ‰æ„ä¹‰çš„æ–‡ä»¶å
   - å¡«å†™å‡†ç¡®çš„ description
   - ä½¿ç”¨åˆé€‚çš„æ ‡ç­¾
   - æ·»åŠ é€‚å½“çš„å†…éƒ¨é“¾æ¥

## â“ å¸¸è§é—®é¢˜

### Q1: æ–‡ç« ä¿®æ”¹åä¸ç”Ÿæ•ˆæ€ä¹ˆåŠï¼Ÿ

**A1:** 
1. ç¡®è®¤æ–‡ä»¶å·²ä¿å­˜
2. æ£€æŸ¥ Markdown è¯­æ³•æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
4. åˆ·æ–°é¡µé¢ï¼ˆCtrl+F5 å¼ºåˆ¶åˆ·æ–°ï¼‰

### Q2: å›¾ç‰‡æ˜¾ç¤ºä¸å‡ºæ¥æ€ä¹ˆåŠï¼Ÿ

**A2:**
1. æ£€æŸ¥å›¾ç‰‡è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼ˆä»¥ `/images/` å¼€å¤´ï¼‰
2. ç¡®è®¤å›¾ç‰‡æ–‡ä»¶å­˜åœ¨äº `blog-data/content/images/` ç›®å½•
3. æ£€æŸ¥å›¾ç‰‡æ–‡ä»¶æƒé™
4. å°è¯•ä¸åŒçš„å›¾ç‰‡æ ¼å¼ï¼ˆjpg, png, webpï¼‰

### Q3: å¦‚ä½•æ‰¹é‡å¯¼å…¥æ–‡ç« ï¼Ÿ

**A3:**
1. å‡†å¤‡å¥½ç¬¦åˆæ ¼å¼çš„ Markdown æ–‡ä»¶
2. å°†æ–‡ä»¶æ”¾å…¥ `blog-data/content/posts/` ç›®å½•
3. ç¡®ä¿æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰æ­£ç¡®çš„ frontmatter
4. åˆ·æ–°é¡µé¢æŸ¥çœ‹ç»“æœ

### Q4: å¦‚ä½•ä¿®æ”¹åšå®¢ä¸»é¢˜é¢œè‰²ï¼Ÿ

**A4:**
1. ç¼–è¾‘ `blog-data/config/site.config.json`
2. ä¿®æ”¹ `theme` éƒ¨åˆ†çš„é¢œè‰²è®¾ç½®
3. é‡æ–°åŠ è½½é…ç½®æˆ–é‡å¯æœåŠ¡

### Q5: å¦‚ä½•è®¾ç½®æ–‡ç« å¯†ç ä¿æŠ¤ï¼Ÿ

**A5:**
ç›®å‰ç‰ˆæœ¬ä¸æ”¯æŒå¯†ç ä¿æŠ¤ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ï¼š
1. å°†æ•æ„Ÿæ–‡ç« è®¾ç½®ä¸º `published: false`
2. ä½¿ç”¨å¤–éƒ¨è®¤è¯æœåŠ¡
3. å‡çº§åˆ°æ”¯æŒè®¤è¯çš„ç‰ˆæœ¬

## ğŸ”§ æ•…éšœæ’æŸ¥

### æœåŠ¡æ— æ³•å¯åŠ¨

**æ£€æŸ¥æ­¥éª¤ï¼š**

1. **æŸ¥çœ‹å®¹å™¨çŠ¶æ€**
   ```bash
   docker compose ps
   docker compose logs blog
   ```

2. **æ£€æŸ¥ç«¯å£å ç”¨**
   ```bash
   lsof -i :3131
   netstat -tlnp | grep 3131
   ```

3. **æ£€æŸ¥ç£ç›˜ç©ºé—´**
   ```bash
   df -h
   ```

4. **é‡å¯æœåŠ¡**
   ```bash
   docker compose down
   docker compose up -d
   ```

### æ–‡ç« åˆ—è¡¨ä¸ºç©º

**å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ³•ï¼š**

1. **æ£€æŸ¥æ–‡ä»¶æƒé™**
   ```bash
   ls -la blog-data/content/posts/
   ```

2. **æ£€æŸ¥æ–‡ä»¶æ ¼å¼**
   - ç¡®ä¿æ–‡ä»¶æ‰©å±•åæ˜¯ `.md`
   - æ£€æŸ¥ frontmatter æ ¼å¼æ˜¯å¦æ­£ç¡®

3. **æŸ¥çœ‹ API å“åº”**
   ```bash
   curl http://localhost:3131/api/posts
   ```

### é…ç½®ä¿®æ”¹ä¸ç”Ÿæ•ˆ

**è§£å†³æ­¥éª¤ï¼š**

1. **æ£€æŸ¥ JSON æ ¼å¼**
   ```bash
   # éªŒè¯ JSON æ ¼å¼
   cat blog-data/config/site.config.json | jq .
   ```

2. **æ‰‹åŠ¨é‡è½½é…ç½®**
   ```bash
   curl -X POST http://localhost:3131/api/config/reload \
     -H "Authorization: Bearer YOUR_SECRET"
   ```

3. **é‡å¯å®¹å™¨**
   ```bash
   docker compose restart
   ```

### æ€§èƒ½é—®é¢˜

**ä¼˜åŒ–å»ºè®®ï¼š**

1. **æ£€æŸ¥èµ„æºä½¿ç”¨**
   ```bash
   docker stats tiny-blog
   ```

2. **æ¸…ç†æ—¥å¿—**
   ```bash
   docker compose logs --tail=100 blog
   ```

3. **ä¼˜åŒ–å›¾ç‰‡**
   - å‹ç¼©å›¾ç‰‡å¤§å°
   - ä½¿ç”¨é€‚å½“çš„å›¾ç‰‡æ ¼å¼
   - å‡å°‘å•é¡µå›¾ç‰‡æ•°é‡

### è·å–å¸®åŠ©

å¦‚æœé‡åˆ°å…¶ä»–é—®é¢˜ï¼š

1. **æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£**ï¼šREADME.md
2. **æ£€æŸ¥æ—¥å¿—æ–‡ä»¶**ï¼š`docker compose logs`
3. **GitHub Issues**ï¼šåœ¨é¡¹ç›®ä»“åº“åˆ›å»º Issue
4. **ç¤¾åŒºæ”¯æŒ**ï¼šæŸ¥æ‰¾ç›¸å…³æŠ€æœ¯ç¤¾åŒº

---

## ğŸ‰ æ­å–œï¼

ä½ å·²ç»æŒæ¡äº† Tiny Blog çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚å¼€å§‹åˆ›ä½œä½ çš„ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« å§ï¼

è®°ä½ï¼š
- ğŸ“ å®šæœŸå¤‡ä»½ä½ çš„å†…å®¹
- ğŸ”„ ä¿æŒç³»ç»Ÿæ›´æ–°
- ğŸ¨ ä¸ªæ€§åŒ–ä½ çš„åšå®¢é…ç½®
- ğŸ“Š å…³æ³¨åšå®¢çš„æ€§èƒ½å’Œè®¿é—®é‡

æ„¿ä½ çš„åšå®¢ä¹‹æ—…æ„‰å¿«ï¼ âœ¨